<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>达合</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="达合">
<meta name="keywords" content="达合">
<meta property="og:type" content="website">
<meta property="og:title" content="达合">
<meta property="og:url" content="http://www.daahe.com/page/8/index.html">
<meta property="og:site_name" content="达合">
<meta property="og:description" content="达合">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="达合">
<meta name="twitter:description" content="达合">
  
    <link rel="alternate" href="/atom.xml" title="达合" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <!-- link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css" -->
    <link href="https://fonts.googleapis.cnpmjs.org/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">

  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">达合</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">天地达 人自合</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.daahe.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-e5-a6-82-e4-bd-95-e4-bd-bf32-e4-bd-8d-e4-b8-8e64-e4-bd-8d-e7-9a-84eclipse-e5-90-8c-e6-97-b6-e8-bf-90-e8-a1-8c" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2012/02/08/e5-a6-82-e4-bd-95-e4-bd-bf32-e4-bd-8d-e4-b8-8e64-e4-bd-8d-e7-9a-84eclipse-e5-90-8c-e6-97-b6-e8-bf-90-e8-a1-8c/" class="article-date">
  <time datetime="2012-02-08T03:16:36.000Z" itemprop="datePublished">2012-02-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/02/08/e5-a6-82-e4-bd-95-e4-bd-bf32-e4-bd-8d-e4-b8-8e64-e4-bd-8d-e7-9a-84eclipse-e5-90-8c-e6-97-b6-e8-bf-90-e8-a1-8c/">如何使32位与64位的eclipse同时运行</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>首先，要安装两个java虚拟机32位的和64位的，分别供两个eclipse使用; 其次，分别在两个eclipse的配置文件eclipse.ini中指定各自使用的虚拟机，具体是在配置文件中增加如下：（注意：参数名称-vm与虚拟机路径在两行） -vm C:Program Files (x86)Javajre6bin 这样，两个eclipse能同时使用了。 另外说明一下eclipse寻找jre的优先顺序是： 1、eclipse.ini中的-vm参数所指定的虚拟机; 2、eclipse同目录下的jre; 3、系统环境变量中指定的jre;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.daahe.com/2012/02/08/e5-a6-82-e4-bd-95-e4-bd-bf32-e4-bd-8d-e4-b8-8e64-e4-bd-8d-e7-9a-84eclipse-e5-90-8c-e6-97-b6-e8-bf-90-e8-a1-8c/" data-id="cjo7aj0td0049zm0fuxh4rmwy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-android-e4-b8-8d-e9-9c-80-e8-a6-81-e7-84-a6-e7-82-b9-e7-9a-84-textview-e8-b7-91-e9-a9-ac-e7-81-af-marqueetextview" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2012/01/13/android-e4-b8-8d-e9-9c-80-e8-a6-81-e7-84-a6-e7-82-b9-e7-9a-84-textview-e8-b7-91-e9-a9-ac-e7-81-af-marqueetextview/" class="article-date">
  <time datetime="2012-01-12T16:48:47.000Z" itemprop="datePublished">2012-01-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/01/13/android-e4-b8-8d-e9-9c-80-e8-a6-81-e7-84-a6-e7-82-b9-e7-9a-84-textview-e8-b7-91-e9-a9-ac-e7-81-af-marqueetextview/">android: 不需要焦点的 TextView跑马灯 MarqueeTextView</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>public class MarqueeTextView extends TextView { public MarqueeTextView(Context appCon) { super(appCon); } public MarqueeTextView(Context context, AttributeSet attrs) { super(context, attrs); } public MarqueeTextView(Context context, AttributeSet attrs, int defStyle) { super(context, attrs, defStyle); } @Override public boolean isFocused() { return true; } @Override protected void onFocusChanged(boolean focused, int direction, Rect previouslyFocusedRect) { } }</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.daahe.com/2012/01/13/android-e4-b8-8d-e9-9c-80-e8-a6-81-e7-84-a6-e7-82-b9-e7-9a-84-textview-e8-b7-91-e9-a9-ac-e7-81-af-marqueetextview/" data-id="cjo7aj0q7000xzm0fl77393s1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-android-e6-96-87-e5-ad-97-e9-98-b4-e5-bd-b1-e6-95-88-e6-9e-9c" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2012/01/13/android-e6-96-87-e5-ad-97-e9-98-b4-e5-bd-b1-e6-95-88-e6-9e-9c/" class="article-date">
  <time datetime="2012-01-12T16:34:33.000Z" itemprop="datePublished">2012-01-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/01/13/android-e6-96-87-e5-ad-97-e9-98-b4-e5-bd-b1-e6-95-88-e6-9e-9c/">android文字阴影效果</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近用到文字的阴影效果，特将研究结果写 篇文章。 关于android文字阴影，共有四个属性可以 设置： android:shadowColor ：阴影颜色 android:shadowDx ：阴影x方向位移 android:shadowDy ：阴影y方向位移 android:shadowRadius ：阴影的半径 注意：阴影的半径必须设，为0时没有效 果。 下面为改变x位移： android:shadowColor=”#ff000000” 两位为透明度） android:shadowDx=”2” android:shadowDy=”0” android:shadowRadius=”1” 效果（向右为正） 下面为改变y位移： android:textColor=”#979790” android:shadowColor=”#ff000000” android:shadowDx=”0” android:shadowDy=”2” android:shadowRadius=”1” 效果（向下为正） 下面改变半径： android:shadowDx=”1” android:shadowDy=”1” android:shadowRadius=”1” 阅</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.daahe.com/2012/01/13/android-e6-96-87-e5-ad-97-e9-98-b4-e5-bd-b1-e6-95-88-e6-9e-9c/" data-id="cjo7aj0r3001rzm0fypngjn8p" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-android-sqlite3" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/12/22/android-sqlite3/" class="article-date">
  <time datetime="2011-12-22T08:45:37.000Z" itemprop="datePublished">2011-12-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/12/22/android-sqlite3/">android SQLite3</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>SQLite库可以解析大部分标准SQL语言。但它也省去了一些特性 并且加入了一些自己的新特性。这篇文档就是试图描述那些SQLite支持/不支持的SQL语法的。查看关键字列表 。 如下语法表格中，纯文本用蓝色粗体显示。非终极符号为斜体红色。作为语法一部分的运算符用黑色Roman字体表示。 这篇文档只是对SQLite实现的SQL语法的综述，有所忽略。想要得到更详细的信息，参考源代码和语法文件“parse.y”。 SQLite执行如下的语法： ALTER TABLE ANALYZE ATTACH DATABASE BEGIN TRANSACTION 注释 COMMIT TRANSACTION COPY CREATE INDEX CREATE TABLE CREATE TRIGGER CREATE VIEW DELETE DETACH DATABASE DROP INDEX DROP TABLE DROP TRIGGER DROP VIEW END TRANSACTION EXPLAIN 表达式 INSERT ON CONFLICT子句 PRAGMA REINDEX REPLACE ROLLBACK TRANSACTION SELECT UPDATE VACUUM ALTER TABLE sql-statement ::= ALTER TABLE [ database-name . ] table-name alteration alteration ::= RENAME TO new-table-name alteration ::= ADD [COLUMN ] column-def SQLite版本的的ALTER TABLE命令允许用户重命名或添加新的字段到已有表中，不能从表中删除字段。 RENAME TO语法用于重命名表名[database-name.]table-name 到new-table-name 。这一命令不能用于在附加数据库之间移动表，只能在同一个数据库中对表进行重命名。 若需要重命名的表有触发器或索引，在重命名后它们依然属于该表。但若定义了视图，或触发器执行的语句中有提到 表的名字，则它们不会被自动改为使用新的表名。若要进行这一类的修改，则需手工撤销并使用新的表名重建触发器或视图。 ADD [COLUMN]语法用于在已有表中添加新的字段。新字段总是添加到已有字段列表的末尾。Column-def 可以是CREATE TABLE中允许出现的任何形式，且须符合如下限制： 字段不能有主键或唯一约束。 字段不能有这些缺省值：CURRENT_TIME, CURRENT_DATE或CURRENT_TIMESTAMP 若定义了NOT NULL约束，则字段必须有一个非空的缺省值。 ALTER TABLE语句的执行时间与表中的数据量无关，它在操作一个有一千万行的表时的运行时间与操作仅有一行的表时是一样的。 在对数据库运行ADD COLUMN之后，该数据库将无法由SQLite 3.1.3及更早版本读取，除非运行VACUUM 命令。 ANALYZE sql-statement ::= ANALYZE sql-statement ::= ANALYZE database-name sql-statement ::= ANALYZE [ database-name . ] table-name ANALYZE 命令令集合关于索引的统计信息并将它们储存在数据库的一个特殊表中，查询优化器可以用该表来制作更好的索引选择。若不给出参数，所有附加数据库中的所有索 引被分析。若参数给出数据库名，该数据库中的所有索引被分析。若给出表名 作参数，则只有关联该表的索引被分析。 最初的实现将所有的统计信息储存在一个名叫sqlite_stat1 的表中。未来的加强版本中可能会创建名字类似的其它表，只是把“1”改为其它数字。sqlite_stat1 表不能够被撤销 ，但其中的所有内容可以被删除 ，这是与撤销该表等效的行为。 ATTACH DATABASE ATTACH DATABASE语句将一个已存在的数据库添加到当前数据库连接。若文件名含标点符号，则应用引号引起来。数据库名’main’和’temp’代表主数据库和用于存放临时表的数据库，它们不能被拆分。拆分数据库使用DETACH DATABASE 语句。 你可以读写附加数据库，或改变其结构。这是SQLite 3.0提供的新特性。在SQLite 2.8中，改变附加数据库的结构是不允许的。 在附加数据库中添加一个与已有表同名的表是不允许的。但你可以附加带有与主数据库中的表同名的表的数据库。也可以多次附加同一数据库。 使 用database-name.table-name 来引用附加数据库中的表。若附加数据库中的表与主数据库的表不重名，则不需加数据库名作为前缀。当数据库被附加时，它的所有不重名的表成为该名字指向的缺 省表。之后附加的任意与之同名的表需要加前缀。若“缺省”表被拆分，则最后附加的同名表变为“缺省”表。 若主数据库不是 “:memory:”，多附加数据库的事务是原子的。若主数据库是“:memory:”则事务在每个独立文件中依然是原子的。但若主机在改变两个或更多数 据库的COMMIT语句进行时崩溃，则可能一部分文件被改变而其他的保持原样。附加数据库的原子性的提交 是SQLite 3.0的新特性。在SQLite 2.8中，所有附加数据库的提交类似于主数据库是“:memory:”时的情况。 对附加数据库的数目有编译时的限制，最多10个附加数据库。 BEGIN TRANSACTION sql-statement ::= BEGIN [ DEFERRED | IMMEDIATE | EXCLUSIVE ] [TRANSACTION [ name ] ] sql-statement ::= END [TRANSACTION [ name ] ] sql-statement ::= COMMIT [TRANSACTION [ name ] ] sql-statement ::= ROLLBACK [TRANSACTION [ name ] ] 从2.0版开始，SQLite支持带有回退和原子性的提交的事务处理。 可选的事务名称会被忽略。SQLite目前不允许嵌套事务。 在事务之外，不能对数据库进行更改。如果当前没有有效的事务，任何修改数据库的命令（基本上除了SELECT以外的所有SQL命令）会自动启动一个事务。命令结束时，自动启动的事务会被提交。 可 以使用BEGIN命令手动启动事务。这样启动的事务会在下一条COMMIT或ROLLBACK命令之前一直有效。但若数据库关闭或出现错误且选用 ROLLBACK冲突判定算法时，数据库也会ROLLBACK。查看ON CONFLICT 子句获取更多关于ROLLBACK冲突判定算法的信息。 在SQLite 3.0.8或更高版本中，事务可以是延迟的，即时的或者独占的。“延迟的”即是说在数据库第一次被访问之前不获得锁。这样就会延迟事务，BEGIN语句本 身不做任何事情。直到初次读取或访问数据库时才获取锁。对数据库的初次读取创建一个SHARED锁 ，初次写入创建一个RESERVED锁。由于锁的获取被延迟到第一次需要时，别的线程或进程可以在当前线程执行BEGIN语句之后创建另外的事务 写入数据库。若事务是即时的，则执行BEGIN命令后立即获取RESERVED锁，而不等数据库被使用。在执行BEGIN IMMEDIATE之后，你可以确保其它的线程或进程不能写入数据库或执行BEGIN IMMEDIATE或BEGIN EXCLUSIVE，但其它进程可以读取数据库。独占事务在所有的数据库获取EXCLUSIVE锁，在执行BEGIN EXCLUSIVE之后，你可以确保在当前事务结束前没有任何其它线程或进程 能够读写数据库。 有关SHARED、RESERVED和EXCLUSIVE锁可以参见这里 。 SQLite 3.0.8的默认行为是创建延迟事务。SQLite 3.0.0到3.0.7中延迟事务是唯一可用的事务类型。SQLite 2.8或更早版本中，所有的事务都是独占的。 COMMIT命令在所有SQL命令完成之前并不作实际的提交工作。这样若两个或更多个SELECT语句在进程中间而执行COMMIT时，只有全部SELECT语句结束才进行提交。 执行COMMIT可能会返回SQLITE_BUSY错误代码。这就是说有另外一个线程或进程获取了数据库的读取锁，并阻止数据库被改变。当COMMIT获得该错误代码时，事务依然是活动的，并且在COMMIT可以在当前读取的线程读取结束后再次试图读取数据库。 END TRANSACTION sql-statement ::= BEGIN [ DEFERRED | IMMEDIATE | EXCLUSIVE ] [TRANSACTION [ name ] ] sql-statement ::= END [TRANSACTION [ name ] ] sql-statement ::= COMMIT [TRANSACTION [ name ] ] sql-statement ::= ROLLBACK [TRANSACTION [ name ] ] 从2.0版开始，SQLite支持带有回退和原子性的提交的事务处理。 可选的事务名称会被忽略。SQLite目前不允许嵌套事务。 在事务之外，不能对数据库进行更改。如果当前没有有效的事务，任何修改数据库的命令（基本上除了SELECT以外的所有SQL命令）会自动启动一个事务。命令结束时，自动启动的事务会被提交。 可 以使用BEGIN命令手动启动事务。这样启动的事务会在下一条COMMIT或ROLLBACK命令之前一直有效。但若数据库关闭或出现错误且选用 ROLLBACK冲突判定算法时，数据库也会ROLLBACK。查看ON CONFLICT 子句获取更多关于ROLLBACK冲突判定算法的信息。 在SQLite 3.0.8或更高版本中，事务可以是延迟的，即时的或者独占的。“延迟的”即是说在数据库第一次被访问之前不获得锁。这样就会延迟事务，BEGIN语句本 身不做任何事情。直到初次读取或访问数据库时才获取锁。对数据库的初次读取创建一个SHARED锁，初次写入创建一个RESERVED锁。由于锁的获取被 延迟到第一次需要时，别的线程或进程可以在当前线程执行BEGIN语句之后创建另外的事务写入数据库。若事务是即时的，则执行BEGIN命令后立即获取 RESERVED锁，而不等数据库被使用。在执行BEGIN IMMEDIATE之后，你可以确保其它的线程或进程不能写入数据库或执行BEGIN IMMEDIATE或BEGIN EXCLUSIVE，但其它进程可以读取数据库。独占事务在所有的数据库获取EXCLUSIVE锁，在执行BEGIN EXCLUSIVE之后，你可以确保在当前事务结束前没有任何其它线程或进程能够读写数据库。 有关SHARED、RESERVED和EXCLUSIVE锁可以参见这里 。 SQLite 3.0.8的默认行为是创建延迟事务。SQLite 3.0.0到3.0.7中延迟事务是唯一可用的事务类型。SQLite 2.8或更早版本中，所有的事务都是独占的。 COMMIT命令在所有SQL命令完成之前并不作实际的提交工作。这样若两个或更多个SELECT语句在进程中间而执行COMMIT时，只有全部SELECT语句结束才进行提交。 执行COMMIT可能会返回SQLITE_BUSY错误代码。这就是说有另外一个线程或进程获取了数据库的读取锁，并阻止数据库被改变。当COMMIT获得该错误代码时，事务依然是活动的，并且在COMMIT可以在当前读取的线程读取结束后再次试图读取数据库。 注释 comment ::= SQL-comment | C-comment SQL-comment ::= – single-line C-comment ::= /<em> multiple-lines [</em> / ] 注释不是SQL命令，但会出现在SQL查询中。它们被解释器处理为空白部分。它们可以在任何空白可能存在的地方开始 ，即使是在跨越多行的表达式中。 SQL风格的注释仅对当前行有效。 C 风格的注释可以跨越多行。若没有结束符号，注释的范围将一直延伸到输入末尾，且不会引起报错。新的SQL语句可以从多行注释结束的地方开始。C风格注释可 以嵌入任何空白可以出现的地方，包括表达式内，或其他SQL语句中间， 并且C风格的注释不互相嵌套。SQL风格的注释出现在C风格注释中时将被忽略。 COPY sql-statement ::= COPY [ OR conflict-algorithm ] [ database-name . ] table-name FROM filename [ USING DELIMITERS delim ] COPY命令在SQLite 2.8及更早的版本中可用。SQLite 3.0删除了这一命令，因为在混合的UTF-8/16环境中对它进行支持是很复杂的。在3.0版本中，命令行解释器 包含新的.import 命令，用以替代COPY。 COPY 命令是用于将大量数据插入表的一个插件。它模仿PostgreSQL中的相同命令而来。事实上，SQLite的COPY 命令就是为了能够读取PostgreSQL的备份工具pg_dump 的输出从而能够将PostgreSQL的数据轻松转换到SQLite中而设计的。 table-name是将要导入数据的一个已存在的表的名字。filename是一个字符串或标识符，用于说明作为数据来源的文件。filename可以使用STDIN 从标准输入流中获取数据。 输入文件的每一行被转换成一条单独的记录导入表中。字段用制表符分开。若某个字段的数据中出现制表符，则前面被添加反斜线“/”符号。数据中的反斜线则被替换为两条反斜线。可选的USING DELIMITERS子句可给出一个与制表符不同 的分界符。 若字段由“/N”组成，则被赋以空值NULL。 使用这一命令时，利用可选的ON CONFLICT子句可以定义替代的约束冲突判定算法。更多信息，参见 ON CONFLICT 。 当输入数据源是STDIN，输入将终止于一行仅包含一个反斜线和一个点的输入：“/. ”。 CREATE INDEX sql-statement ::= CREATE [UNIQUE ] INDEX [IF NOT EXISTS ] [ database-name . ] index-name ON table-name ( column-name [, column-name ] * ) column-name ::= name [ COLLATE collation-name ] [ ASC | DESC ] CREATE INDEX命令由“CREATE INDEX”关键字后跟新索引的名字，关键字“ON”，待索引表的名字，以及括弧内的用于索引键的字段列表构成。每个字段名可以跟随“ASC”或 “DESC”关键字说明排序法则，但在当前版本中排序法则被忽略。排序总是按照上升序。 每个字段名后跟COLLATE子句定义文本记录的比较顺序。缺省的比较顺序</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.daahe.com/2011/12/22/android-sqlite3/" data-id="cjo7aj0rs002bzm0fy1fny2zu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-android-e4-b8-8b-e7-9a-843d-e5-bc-95-e6-93-8e" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/12/22/android-e4-b8-8b-e7-9a-843d-e5-bc-95-e6-93-8e/" class="article-date">
  <time datetime="2011-12-22T08:41:55.000Z" itemprop="datePublished">2011-12-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/12/22/android-e4-b8-8b-e7-9a-843d-e5-bc-95-e6-93-8e/">Android下的图形引擎</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、AngleAngle是一款专为Android平台设计的，敏捷且适合快速开发的2D游戏引擎，基于OpenGL ES技术开发。该引擎全部用Java代码编写，并且可以根据自己的需要替换里面的实现，缺陷在于文档不足，而且下载的代码中仅仅包含有少量的示例教程。 最低运行环境要求不详。 项目地址：code.google.com/p/angle/  2、Rokon rokon是一款Android 2D游戏引擎，基于OpenGL ES技术开发，物理引擎为Box2D，因此能够实现一些较为复杂的物理效果，该项目最新版本为 2.0.3 (09/07/10)。总体来说，此引擎最大的优点在于其开发文档相当之完备，并且项目作者对反馈Bug的修正非常之神速，所以该框架的使用在目前也最为 广泛，有人干脆将它称为Cocos2d-iPhone引擎的Android版（业务逻辑和编码风格上也确实很像）。附带一提，国内某个需要注册会员才能下 载的Android游戏框架衍生于此框架，所以大家也不要刻板的认为收费便一定是好的，免费就一定不好。 最低运行环境要求为Android 1.5。 项目地址：code.google.com/p/rokon/ 3、LGame LGame是一款国人开发的Java游戏引擎，有Android及PC(J2SE)两个开发版本，目前最高版本同为0.2.6(31/07/10)。其底 层绘图器LGrpaphics封装有J2SE以及J2ME提供的全部Graphics API（PC版采用Graphics2D封装，Android版采用Canvas模拟实现），所以能够将J2SE或J2ME开发经验直接套用其中，两版本 间主要代码能够相互移植。Android版内置有Admob接口，可以不必配置XML直接硬编码Admob广告信息。 该引擎除了基本的音效、图形、物理、精灵等常用组件以外，也内置有Ioc、xml、http等常用Java组件的封装，代价是jar体积较为庞大，PC版 已突破1.2MB，Android版有所简化也在500KB左右。此外，该引擎还内置有按照1:1实现的J2ME精灵类及相关组件，可以将绝大多数 J2ME游戏平移到Android或PC版中。唯一遗憾的是，该项目作者是个极其懒惰的家伙，开发文档从去年说到今年依旧没有提供，只有游戏示例可供下 载。 最低运行环境要求为Android 1.1。 项目地址：code.google.com/p/loon-s… 4、AndEngine andengine同样是一款基于OpenGL ES技术的Android游戏引擎，物理引擎同样为Box2D（标配 ）。该框架性能普通，文档缺乏，但示例较为丰富。 最低运行环境要求不详。 项目地址（未直接提供jar下载，源码可通过svn提取）：code.google.com/p/andeng… 5、libgdx libgdx是一款基于OpenGL ES技术开发的Android游戏引擎，支持Android平台下的2D游戏开发，物理引擎采用Box2D实现。单就性能角度来说，堪称是一款非常强大的 Android游戏引擎，但缺陷在于精灵类等相关组件在使用上不够简化，而且文档也较为匮乏。 最低运行环境要求不详。 项目地址：code.google.com/p<img src="file:///C:/Users/wuliuhua/AppData/Local/Temp/%29A%5BY%29I%7E%5D%28ZC9Z%5B3Y%29IDK7LK.gif" alt="">bgdx/ 6、jPCT jPCT是一款基于OpenGL技术开发的3D图形引擎(PC环境为标准OpenGL，Android为OpenGL ES)， 以Java语言为基础的，拥有功能强大的Java 3D解决方案。该引擎与LGame（此为2D游戏引擎）相类似，目前拥有PC(J2SE)以及Android两个开发版本。 jPCT的最大优势之一，就在于它惊人的向下兼容性。在PC环境中，jPCT甚至可以运行在JVM1.1环境之中，因为jPCT内部提供的图形渲染接口完 全符合所有的Java 1.1规范（就连已经消失的Microsoft VM乃至更古老的Netscape 4 VM也不例外）。 最低运行环境要求为Android 1.5。 项目地址：<a href="http://www.jpct.net/jpct-ae/" target="_blank" rel="noopener">http://www.jpct.net/jpct-ae/</a> 7、Alien3d Alien3d是一款体积非常之小的Android 3D游戏引擎，基于OpenGL ES技术开发。为了压缩体积，它根据不同功能采用多jar方式发布（包括alien3d-engine.jar，alien3d- tiled.jar，alien3d-sprites.jar，alien3d-shapes.jar，alien3d- particles2d.jar，），事实上它的核心文件大约只有40KB，所有相关jar的总和也不足150KB。 最低运行环境要求为Android 1.5。 项目地址：code.google.com/p/alien3d/ 8、Catcake Catcake是一款跨平台的Java 3D图形引擎，目前支持PC(J2SE)及Android环境运行（已有iPhone版规划）。该引擎在易用性和运行性能上皆有出色的表现，支持常见的游戏开发功能，诸如精灵动画，音频处理和视频播放等。 最低运行环境要求为Android 1.6。 项目地址：code.google.com/p/catcake/</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.daahe.com/2011/12/22/android-e4-b8-8b-e7-9a-843d-e5-bc-95-e6-93-8e/" data-id="cjo7aj0q6000wzm0fv3kl17ob" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e4-bb-8eactivitygroup-e7-9a-84child-activity-e8-bf-94-e5-9b-9e-e6-95-b0-e6-8d-ae" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/12/15/e4-bb-8eactivitygroup-e7-9a-84child-activity-e8-bf-94-e5-9b-9e-e6-95-b0-e6-8d-ae/" class="article-date">
  <time datetime="2011-12-15T07:28:22.000Z" itemprop="datePublished">2011-12-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/12/15/e4-bb-8eactivitygroup-e7-9a-84child-activity-e8-bf-94-e5-9b-9e-e6-95-b0-e6-8d-ae/">从ActivityGroup的Child Activity返回数据</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>super.getParent().setResult(Activity.RESULT_OK, intent); super.getParent().finish();</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.daahe.com/2011/12/15/e4-bb-8eactivitygroup-e7-9a-84child-activity-e8-bf-94-e5-9b-9e-e6-95-b0-e6-8d-ae/" data-id="cjo7aj0sp003jzm0fhy9b4ni7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e8-a7-a3-e5-86-b3android-content-res-resources-notfoundexception-e7-9a-84-e4-b8-80-e4-b8-aa-e6-96-b9-e6-b3-95" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/12/14/e8-a7-a3-e5-86-b3android-content-res-resources-notfoundexception-e7-9a-84-e4-b8-80-e4-b8-aa-e6-96-b9-e6-b3-95/" class="article-date">
  <time datetime="2011-12-14T01:57:39.000Z" itemprop="datePublished">2011-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/12/14/e8-a7-a3-e5-86-b3android-content-res-resources-notfoundexception-e7-9a-84-e4-b8-80-e4-b8-aa-e6-96-b9-e6-b3-95/">解决android.content.res.Resources NotFoundException的一个方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在<a href="http://blog.3gstdy.com/archives/755" target="_blank" rel="noopener">android</a>开发中会用一些资源，这些资源以不同形式存在，比如说图片，xml等，android为这些不同类型的资源统一编号，生成资源类R 。如下： <code>public final class R { public static final class anim { public static final int popup_enter=0x7f040000; public static final int popup_exit=0x7f040001; } public static final class drawable { public static final int gradient_bg=0x7f020000; public static final int icon=0x7f020001; } public static final class layout { public static final int city_item=0x7f030000; } }</code> 在编译器编译程序时可以找到的资源，但在运行时却找不到，会出现如下异常： 12-14 01:40:58.452: WARN/AppWidgetHostView(627): android.content.res.Resources$<a href="http://blog.3gstdy.com/archives/755" target="_blank" rel="noopener">NotFoundException</a>: <a href="http://blog.3gstdy.com/archives/755" target="_blank" rel="noopener">Resource ID</a> #0x7f030000 出现此类异常时，可以根据 Resource ID到资源类R中找相关的资源。比如0x7f030000，对应的是city_item布局文件，就可以将问题缩小到更小的范围。对于这类运行时找不到资源，但资源又确实存在的问题，可能的编译打包时出现问题，没有将该资源加入。可修改一下该资源，让编译器重新编译。 引用一下其他网友的解决方案： 1、 今天遇到类似这样问题，后来在找到解决方案，把AndroidManifest.xml里面的版本改为8（我原来的是10），问题解决了，原因是这样的:主要是原来的那个工程占用现在的这个虚拟机，不能正常加载现在的这个工程. 把原来的那个工程移除掉，把原来的工程的androidmanifest.xml文件考到现在的这个工程就可以了，不改版本号也可以运行。。自己尝试一下会感悟很多的 再有就是点击Project -&gt;Clean一下这个项目 也可以的。 2、 ERROR/AndroidRuntime(279): android.content.res.Resources $NotFoundException: String resource ID #0x7f050008 解决方案： 可能存在的问题是eclipse缓存影响了现有项目的运行，清除一下缓存即可以了。。。 3、android.content.res.Resources$NotFoundException 今天编程时遇到了这种异常产生异常的代码如 下：distanceChoiceView.setText(PreferenceStoreData.getIntByKey(AroundActivity.this, FinalConst.arroudDistance, 500));产生原因在于 TextView.setText(value) ,其中value必须是String 类型的。而我上面赋值的时Int 类型，所以出错。解决方 法：distanceChoiceView.setText(“”+PreferenceStoreData.getIntByKey(AroundActivity.this, FinalConst.arroudDistance, 500)); 源自：<a href="http://blog.3gstdy.com/archives/755" target="_blank" rel="noopener">http://blog.3gstdy.com/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.daahe.com/2011/12/14/e8-a7-a3-e5-86-b3android-content-res-resources-notfoundexception-e7-9a-84-e4-b8-80-e4-b8-aa-e6-96-b9-e6-b3-95/" data-id="cjo7aj0u5005xzm0fia3e3wm4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-android-e4-b8-ad-e5-a6-82-e4-bd-95-e8-87-aa-e5-ae-9a-e4-b9-89menu-e8-8f-9c-e5-8d-95" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/12/14/android-e4-b8-ad-e5-a6-82-e4-bd-95-e8-87-aa-e5-ae-9a-e4-b9-89menu-e8-8f-9c-e5-8d-95/" class="article-date">
  <time datetime="2011-12-14T01:28:25.000Z" itemprop="datePublished">2011-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/12/14/android-e4-b8-ad-e5-a6-82-e4-bd-95-e8-87-aa-e5-ae-9a-e4-b9-89menu-e8-8f-9c-e5-8d-95/">Android中如何自定义Menu菜单</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们又如何来自定义Menu呢？下面我就主要来讲讲如何在Android上自定义Menu菜单，希望对大家有所帮助。 用过UCWEB-Android版的人都应该对其特殊的menu有印象，把menu做成Tab-Menu(支持分页的Menu)，可以容纳比 Android传统的menu更丰富的内容(Android的menu超过6项则缩略在[更多]里)，本文参考网上的例子(作 者:CoffeeCole,email:<a href="mailto:longkefan@foxmail.com" target="_blank" rel="noopener">longkefan@foxmail.com</a>),对例子进行简化以及封装，使其作为一个复合控件融入自己的 framework。 先来看看本文程序运行的效果： <img src="http://blog.daahe.com/wp-content/uploads/2012/12/842e58e46fe4f38fc4901da8470c02ae.gif" alt=""> TabMenu 本身就是一个PopupWindow，PopupWindow上面放了两个GridView,第一个GridView就是分页标签，位于 PopupWindow的顶部，第二个GridView是菜单，位于PopupWindow的主体。为了实现PopupWindow的弹出/退出的动画效 果，本文使用了以下代码： 在工程的res文件夹里添加anim子目录，再新建文件popup_enter.xml：</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p><code>&lt;?`</code>xml<code></code>version<code>=</code>“1.0”<code></code>encoding<code>=</code>“utf-8”<code></code>?&gt;`</p>
<p><code>&lt;`</code>set<code></code>xmlns:android<code>=</code>“<a href="http://schemas.android.com/apk/res/android" target="_blank" rel="noopener">http://schemas.android.com/apk/res/android</a>“<code></code>&gt;`</p>
<p><code>&lt;`</code>translate<code></code>android:fromYDelta<code>=</code>“100%p”<code></code>android:toYDelta<code>=</code>“0”<code></code>android:duration<code>=</code>“1000”<code></code>/&gt;`</p>
<p><code>&lt;`</code>alpha<code></code>android:fromAlpha<code>=</code>“0.0”<code></code>android:toAlpha<code>=</code>“1.0”<code></code>android:duration<code>=</code>“1000”<code></code>/&gt;`</p>
<p><code>&lt;/`</code>set<code></code>&gt;`</p>
<p>新建文件popup_exit.xml：</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p><code>&lt;?`</code>xml<code></code>version<code>=</code>“1.0”<code></code>encoding<code>=</code>“utf-8”<code></code>?&gt;`</p>
<p><code>&lt;`</code>set<code></code>xmlns:android<code>=</code>“<a href="http://schemas.android.com/apk/res/android" target="_blank" rel="noopener">http://schemas.android.com/apk/res/android</a>“<code></code>&gt;`</p>
<p><code>&lt;`</code>translate<code></code>android:fromYDelta<code>=</code>“0”<code></code>android:toYDelta<code>=</code>“100%p”<code></code>android:duration<code>=</code>“1000”<code></code>/&gt;`</p>
<p><code>&lt;`</code>alpha<code></code>android:fromAlpha<code>=</code>“1.0”<code></code>android:toAlpha<code>=</code>“0.0”<code></code>android:duration<code>=</code>“1000”<code></code>/&gt;`</p>
<p><code>&lt;/`</code>set<code></code>&gt;`</p>
<p>在工程的values文件夹里新建文件popup_animation.xml：</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>6</p>
<p>7</p>
<p><code>&lt;?`</code>xml<code></code>version<code>=</code>“1.0”<code></code>encoding<code>=</code>“utf-8”<code></code>?&gt;`</p>
<p><code>&lt;`</code>resources<code></code>&gt;`</p>
<p><code>&lt;`</code>style<code></code>name<code>=</code>“PopupAnimation”<code></code>parent<code>=</code>“android:Animation”<code></code>&gt;`</p>
<p><code>&lt;`</code>item<code></code>name<code>=</code>“android:windowEnterAnimation”<code>&gt;@anim/popup_enter&lt;/</code>item<code></code>&gt;`</p>
<p><code>&lt;`</code>item<code></code>name<code>=</code>“android:windowExitAnimation”<code>&gt;@anim/popup_exit&lt;/</code>item<code></code>&gt;`</p>
<p><code>&lt;/`</code>style<code></code>&gt;`</p>
<p><code>&lt;/`</code>resources<code></code>&gt;`</p>
<p>main.xml的源码如下：</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>6</p>
<p>7</p>
<p><code>&lt;?`</code>xml<code></code>version<code>=</code>“1.0”<code></code>encoding<code>=</code>“utf-8”<code></code>?&gt;`</p>
<p><code>&lt;`</code>LinearLayout<code></code>android:id<code>=</code>“@+id/LinearLayout01”`</p>
<p><code>android:layout_width`</code>=<code>&quot;fill_parent&quot;` `android:layout_height</code>=<code></code>“fill_parent”`</p>
<p><code>xmlns:android`</code>=<code>&quot;[http://schemas.android.com/apk/res/android](http://schemas.android.com/apk/res/android)&quot;</code>&gt;`</p>
<p><code>&lt;`</code>TextView<code></code>android:id<code>=</code>“@+id/TextView01”<code></code>android:layout_height<code>=</code>“wrap_content”`</p>
<p><code>android:layout_width`</code>=<code>&quot;fill_parent&quot;` `android:text</code>=<code>&quot;扩展Menu----hellogv&quot;</code>&gt;&lt;/<code>TextView</code>&gt;`</p>
<p><code>&lt;/`</code>LinearLayout<code></code>&gt;`</p>
<p>TabMenu的封装类TabMenu.java的源码如下：</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>6</p>
<p>7</p>
<p>8</p>
<p>9</p>
<p>10</p>
<p>11</p>
<p>12</p>
<p>13</p>
<p>14</p>
<p>15</p>
<p>16</p>
<p>17</p>
<p>18</p>
<p>19</p>
<p>20</p>
<p>21</p>
<p>22</p>
<p>23</p>
<p>24</p>
<p>25</p>
<p>26</p>
<p>27</p>
<p>28</p>
<p>29</p>
<p>30</p>
<p>31</p>
<p>32</p>
<p>33</p>
<p>34</p>
<p>35</p>
<p>36</p>
<p>37</p>
<p>38</p>
<p>39</p>
<p>40</p>
<p>41</p>
<p>42</p>
<p>43</p>
<p>44</p>
<p>45</p>
<p>46</p>
<p>47</p>
<p>48</p>
<p>49</p>
<p>50</p>
<p>51</p>
<p>52</p>
<p>53</p>
<p>54</p>
<p>55</p>
<p>56</p>
<p>57</p>
<p>58</p>
<p>59</p>
<p>60</p>
<p>61</p>
<p>62</p>
<p>63</p>
<p>64</p>
<p>65</p>
<p>66</p>
<p>67</p>
<p>68</p>
<p>69</p>
<p>70</p>
<p>71</p>
<p>72</p>
<p>73</p>
<p>74</p>
<p>75</p>
<p>76</p>
<p>77</p>
<p>78</p>
<p>79</p>
<p>80</p>
<p>81</p>
<p>82</p>
<p>83</p>
<p>84</p>
<p>85</p>
<p>86</p>
<p>87</p>
<p>88</p>
<p>89</p>
<p>90</p>
<p>91</p>
<p>92</p>
<p>93</p>
<p>94</p>
<p>95</p>
<p>96</p>
<p>97</p>
<p>98</p>
<p>99</p>
<p>100</p>
<p>101</p>
<p>102</p>
<p>103</p>
<p>104</p>
<p>105</p>
<p>106</p>
<p>107</p>
<p>108</p>
<p>109</p>
<p>110</p>
<p>111</p>
<p>112</p>
<p>113</p>
<p>114</p>
<p>115</p>
<p>116</p>
<p>117</p>
<p>118</p>
<p>119</p>
<p>120</p>
<p>121</p>
<p>122</p>
<p>123</p>
<p>124</p>
<p>125</p>
<p>126</p>
<p>127</p>
<p>128</p>
<p>129</p>
<p>130</p>
<p>131</p>
<p>132</p>
<p>133</p>
<p>134</p>
<p>135</p>
<p>136</p>
<p>137</p>
<p>138</p>
<p>139</p>
<p>140</p>
<p>141</p>
<p>142</p>
<p>143</p>
<p>144</p>
<p>145</p>
<p>146</p>
<p>147</p>
<p>148</p>
<p>149</p>
<p>150</p>
<p>151</p>
<p>152</p>
<p>153</p>
<p>154</p>
<p>155</p>
<p>156</p>
<p>157</p>
<p>158</p>
<p>159</p>
<p>160</p>
<p>161</p>
<p>162</p>
<p>163</p>
<p>164</p>
<p>165</p>
<p>166</p>
<p>167</p>
<p>168</p>
<p>169</p>
<p>170</p>
<p>171</p>
<p>172</p>
<p>173</p>
<p>174</p>
<p>175</p>
<p>176</p>
<p>177</p>
<p>178</p>
<p>179</p>
<p>180</p>
<p>181</p>
<p>182</p>
<p>183</p>
<p>184</p>
<p>185</p>
<p>186</p>
<p>187</p>
<p>188</p>
<p>189</p>
<p>190</p>
<p>191</p>
<p>192</p>
<p>193</p>
<p>194</p>
<p>195</p>
<p>196</p>
<p>197</p>
<p>198</p>
<p>199</p>
<p>200</p>
<p>201</p>
<p>202</p>
<p>203</p>
<p>204</p>
<p>205</p>
<p>206</p>
<p>207</p>
<p>208</p>
<p>209</p>
<p>210</p>
<p>211</p>
<p>212</p>
<p>213</p>
<p>214</p>
<p>215</p>
<p><code>package</code> <code>com.testTabMenu;</code></p>
<p><code>import</code> <code>android.content.Context;</code></p>
<p><code>import</code> <code>android.graphics.Color;</code></p>
<p><code>import</code> <code>android.graphics.drawable.ColorDrawable;</code></p>
<p><code>import</code> <code>android.view.Gravity;</code></p>
<p><code>import</code> <code>android.view.View;</code></p>
<p><code>import</code> <code>android.view.ViewGroup;</code></p>
<p><code>import</code> <code>android.widget.BaseAdapter;</code></p>
<p><code>import</code> <code>android.widget.GridView;</code></p>
<p><code>import</code> <code>android.widget.ImageView;</code></p>
<p><code>import</code> <code>android.widget.LinearLayout;</code></p>
<p><code>import</code> <code>android.widget.PopupWindow;</code></p>
<p><code>import</code> <code>android.widget.TextView;</code></p>
<p><code>import</code> <code>android.widget.AdapterView.OnItemClickListener;</code></p>
<p><code>import</code> <code>android.widget.LinearLayout.LayoutParams;</code></p>
<p><code>public</code> <code>class</code> <code>TabMenu</code> <code>extends</code> <code>PopupWindow{</code></p>
<p><code>private</code> <code>GridView gvBody, gvTitle;</code></p>
<p><code>private</code> <code>LinearLayout mLayout;</code></p>
<p><code>private</code> <code>MenuTitleAdapter titleAdapter;</code></p>
<p><code>public</code> <code>TabMenu(Context context,OnItemClickListener titleClick,OnItemClickListener bodyClick,</code></p>
<p><code>MenuTitleAdapter titleAdapter,`</code>int<code></code>colorBgTabMenu,<code></code>int<code></code>aniTabMenu){`</p>
<p><code>super`</code>(context);`</p>
<p><code>mLayout =</code> <code>new</code> <code>LinearLayout(context);</code></p>
<p><code>mLayout.setOrientation(LinearLayout.VERTICAL);</code></p>
<p><code>//标题选项栏</code></p>
<p><code>gvTitle =</code> <code>new</code> <code>GridView(context);</code></p>
<p><code>gvTitle.setLayoutParams(`</code>new<code></code>LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));`</p>
<p><code>gvTitle.setNumColumns(titleAdapter.getCount());</code></p>
<p><code>gvTitle.setStretchMode(GridView.STRETCH_COLUMN_WIDTH);</code></p>
<p><code>gvTitle.setVerticalSpacing(`</code>1<code></code>);`</p>
<p><code>gvTitle.setHorizontalSpacing(`</code>1<code></code>);`</p>
<p><code>gvTitle.setGravity(Gravity.CENTER);</code></p>
<p><code>gvTitle.setOnItemClickListener(titleClick);</code></p>
<p><code>gvTitle.setAdapter(titleAdapter);</code></p>
<p><code>gvTitle.setSelector(`</code>new<code></code>ColorDrawable(Color.TRANSPARENT));<code></code>//选中的时候为透明色`</p>
<p><code>this`</code>.titleAdapter=titleAdapter;`</p>
<p><code>//子选项栏</code></p>
<p><code>gvBody =</code> <code>new</code> <code>GridView(context);</code></p>
<p><code>gvBody.setLayoutParams(`</code>new<code></code>LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT));`</p>
<p><code>gvBody.setSelector(`</code>new<code></code>ColorDrawable(Color.TRANSPARENT));<code></code>//选中的时候为透明色`</p>
<p><code>gvBody.setNumColumns(`</code>4<code></code>);`</p>
<p><code>gvBody.setStretchMode(GridView.STRETCH_COLUMN_WIDTH);</code></p>
<p><code>gvBody.setVerticalSpacing(`</code>10<code></code>);`</p>
<p><code>gvBody.setHorizontalSpacing(`</code>10<code></code>);`</p>
<p><code>gvBody.setPadding(`</code>10<code>,` `10</code>,<code></code>10<code>,` `10</code>);`</p>
<p><code>gvBody.setGravity(Gravity.CENTER);</code></p>
<p><code>gvBody.setOnItemClickListener(bodyClick);</code></p>
<p><code>mLayout.addView(gvTitle);</code></p>
<p><code>mLayout.addView(gvBody);</code></p>
<p><code>//设置默认项</code></p>
<p><code>this`</code>.setContentView(mLayout);`</p>
<p><code>this`</code>.setWidth(LayoutParams.FILL_PARENT);`</p>
<p><code>this`</code>.setHeight(LayoutParams.WRAP_CONTENT);`</p>
<p><code>this`</code>.setBackgroundDrawable(<code>new` `ColorDrawable(colorBgTabMenu));</code>// 设置TabMenu菜单背景`</p>
<p><code>this`</code>.setAnimationStyle(aniTabMenu);`</p>
<p><code>this`</code>.setFocusable(<code>true</code>);<code></code>// menu菜单获得焦点 如果没有获得焦点menu菜单中的控件事件无法响应`</p>
<p><code>}</code></p>
<p><code>public</code> <code>void</code> <code>SetTitleSelect(`</code>int<code></code>index)`</p>
<p><code>{</code></p>
<p><code>gvTitle.setSelection(index);</code></p>
<p><code>this`</code>.titleAdapter.SetFocus(index);`</p>
<p><code>}</code></p>
<p><code>public</code> <code>void</code> <code>SetBodySelect(`</code>int<code></code>index,<code></code>int<code></code>colorSelBody)`</p>
<p><code>{</code></p>
<p><code>int</code> <code>count=gvBody.getChildCount();</code></p>
<p><code>for`</code>(<code>int` `i=</code>0<code></code>;i&lt;count;i++)`</p>
<p><code>{</code></p>
<p><code>if`</code>(i!=index)`</p>
<p><code>((LinearLayout)gvBody.getChildAt(i)).setBackgroundColor(Color.TRANSPARENT);</code></p>
<p><code>}</code></p>
<p><code>((LinearLayout)gvBody.getChildAt(index)).setBackgroundColor(colorSelBody);</code></p>
<p><code>}</code></p>
<p><code>public</code> <code>void</code> <code>SetBodyAdapter(MenuBodyAdapter bodyAdapter)</code></p>
<p><code>{</code></p>
<p><code>gvBody.setAdapter(bodyAdapter);</code></p>
<p><code>}</code></p>
<p><code>/**</code></p>
<p><code>* 自定义Adapter，TabMenu的每个分页的主体</code></p>
<p><code>*</code></p>
<p><code>*/</code></p>
<p><code>static</code> <code>public</code> <code>class</code> <code>MenuBodyAdapter</code> <code>extends</code> <code>BaseAdapter {</code></p>
<p><code>private</code> <code>Context mContext;</code></p>
<p><code>private</code> <code>int</code> <code>fontColor,fontSize;</code></p>
<p><code>private</code> <code>String[] texts;</code></p>
<p><code>private</code> <code>int`</code>[] resID;`</p>
<p><code>/**</code></p>
<p><code>* 设置TabMenu的分页主体</code></p>
<p><code>* @param context 调用方的上下文</code></p>
<p><code>* @param texts 按钮集合的字符串数组</code></p>
<p><code>* @param resID 按钮集合的图标资源数组</code></p>
<p><code>* @param fontSize 按钮字体大小</code></p>
<p><code>* @param color 按钮字体颜色</code></p>
<p><code>*/</code></p>
<p><code>public</code> <code>MenuBodyAdapter(Context context, String[] texts,`</code>int<code>[] resID,` `int` `fontSize,</code>int<code></code>fontColor)`</p>
<p><code>{</code></p>
<p><code>this`</code>.mContext = context;`</p>
<p><code>this`</code>.fontColor = fontColor;`</p>
<p><code>this`</code>.texts = texts;`</p>
<p><code>this`</code>.fontSize=fontSize;`</p>
<p><code>this`</code>.resID=resID;`</p>
<p><code>}</code></p>
<p><code>public</code> <code>int</code> <code>getCount() {</code></p>
<p><code>return</code> <code>texts.length;</code></p>
<p><code>}</code></p>
<p><code>public</code> <code>Object getItem(`</code>int<code></code>position) {`</p>
<p><code>return</code> <code>makeMenyBody(position);</code></p>
<p><code>}</code></p>
<p><code>public</code> <code>long</code> <code>getItemId(`</code>int<code></code>position) {`</p>
<p><code>return</code> <code>position;</code></p>
<p><code>}</code></p>
<p><code>private</code> <code>LinearLayout makeMenyBody(`</code>int<code></code>position)`</p>
<p><code>{</code></p>
<p><code>LinearLayout result=`</code>new<code></code>LinearLayout(<code>this</code>.mContext);`</p>
<p><code>result.setOrientation(LinearLayout.VERTICAL);</code></p>
<p><code>result.setGravity(Gravity.CENTER_HORIZONTAL|Gravity.CENTER_VERTICAL);</code></p>
<p><code>result.setPadding(`</code>10<code>,` `10</code>,<code></code>10<code>,` `10</code>);`</p>
<p><code>TextView text =</code> <code>new</code> <code>TextView(`</code>this<code></code>.mContext);`</p>
<p><code>text.setText(texts[position]);</code></p>
<p><code>text.setTextSize(fontSize);</code></p>
<p><code>text.setTextColor(fontColor);</code></p>
<p><code>text.setGravity(Gravity.CENTER);</code></p>
<p><code>text.setPadding(`</code>5<code>,` `5</code>,<code></code>5<code>,` `5</code>);`</p>
<p><code>ImageView img=`</code>new<code></code>ImageView(<code>this</code>.mContext);`</p>
<p><code>img.setBackgroundResource(resID[position]);</code></p>
<p><code>result.addView(img,`</code>new<code></code>LinearLayout.LayoutParams(<code></code>new<code></code>LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT)));`</p>
<p><code>result.addView(text);</code></p>
<p><code>return</code> <code>result;</code></p>
<p><code>}</code></p>
<p><code>public</code> <code>View getView(`</code>int<code></code>position, View convertView, ViewGroup parent) {`</p>
<p><code>return</code> <code>makeMenyBody(position);</code></p>
<p><code>}</code></p>
<p><code>}</code></p>
<p><code>/**</code></p>
<p><code>* 自定义Adapter,TabMenu的分页标签部分</code></p>
<p><code>*</code></p>
<p><code>*/</code></p>
<p><code>static</code> <code>public</code> <code>class</code> <code>MenuTitleAdapter</code> <code>extends</code> <code>BaseAdapter {</code></p>
<p><code>private</code> <code>Context mContext;</code></p>
<p><code>private</code> <code>int</code> <code>fontColor,unselcolor,selcolor;</code></p>
<p><code>private</code> <code>TextView[] title;</code></p>
<p><code>/**</code></p>
<p><code>* 设置TabMenu的title</code></p>
<p><code>* @param context 调用方的上下文</code></p>
<p><code>* @param titles 分页标签的字符串数组</code></p>
<p><code>* @param fontSize 字体大小</code></p>
<p><code>* @param fontcolor 字体颜色</code></p>
<p><code>* @param unselcolor 未选中项的背景色</code></p>
<p><code>* @param selcolor 选中项的背景色</code></p>
<p><code>*/</code></p>
<p><code>public</code> <code>MenuTitleAdapter(Context context, String[] titles,</code> <code>int</code> <code>fontSize,</code></p>
<p><code>int</code> <code>fontcolor,`</code>int<code></code>unselcolor,<code></code>int<code></code>selcolor) {`</p>
<p><code>this`</code>.mContext = context;`</p>
<p><code>this`</code>.fontColor = fontcolor;`</p>
<p><code>this`</code>.unselcolor = unselcolor;`</p>
<p><code>this`</code>.selcolor=selcolor;`</p>
<p><code>this`</code>.title =<code></code>new<code></code>TextView[titles.length];`</p>
<p><code>for</code> <code>(`</code>int<code></code>i =<code></code>0<code></code>; i &lt; titles.length; i++) {`</p>
<p><code>title[i] =</code> <code>new</code> <code>TextView(mContext);</code></p>
<p><code>title[i].setText(titles[i]);</code></p>
<p><code>title[i].setTextSize(fontSize);</code></p>
<p><code>title[i].setTextColor(fontColor);</code></p>
<p><code>title[i].setGravity(Gravity.CENTER);</code></p>
<p><code>title[i].setPadding(`</code>10<code>,` `10</code>,<code></code>10<code>,` `10</code>);`</p>
<p><code>}</code></p>
<p><code>}</code></p>
<p><code>public</code> <code>int</code> <code>getCount() {</code></p>
<p><code>return</code> <code>title.length;</code></p>
<p><code>}</code></p>
<p><code>public</code> <code>Object getItem(`</code>int<code></code>position) {`</p>
<p><code>return</code> <code>title[position];</code></p>
<p><code>}</code></p>
<p><code>public</code> <code>long</code> <code>getItemId(`</code>int<code></code>position) {`</p>
<p><code>return</code> <code>title[position].getId();</code></p>
<p><code>}</code></p>
<p><code>/**</code></p>
<p><code>* 设置选中的效果</code></p>
<p><code>*/</code></p>
<p><code>private</code> <code>void</code> <code>SetFocus(`</code>int<code></code>index)`</p>
<p><code>{</code></p>
<p><code>for`</code>(<code>int` `i=</code>0<code></code>;i&lt;title.length;i++)`</p>
<p><code>{</code></p>
<p><code>if`</code>(i!=index)`</p>
<p><code>{</code></p>
<p><code>title[i].setBackgroundDrawable(`</code>new<code></code>ColorDrawable(unselcolor));<code></code>//设置没选中的颜色`</p>
<p><code>title[i].setTextColor(fontColor);`</code>//设置没选中项的字体颜色`</p>
<p><code>}</code></p>
<p><code>}</code></p>
<p><code>title[index].setBackgroundColor(`</code>0x00<code>);</code>//设置选中项的颜色`</p>
<p><code>title[index].setTextColor(selcolor);`</code>//设置选中项的字体颜色`</p>
<p><code>}</code></p>
<p><code>public</code> <code>View getView(`</code>int<code></code>position, View convertView, ViewGroup parent) {`</p>
<p><code>View v;</code></p>
<p><code>if</code> <code>(convertView ==</code> <code>null`</code>) {`</p>
<p><code>v = title[position];</code></p>
<p><code>}</code> <code>else</code> <code>{</code></p>
<p><code>v = convertView;</code></p>
<p><code>}</code></p>
<p><code>return</code> <code>v;</code></p>
<p><code>}</code></p>
<p><code>}</code></p>
<p><code>}</code></p>
<p>testTabMenu介绍了数据的定义以及TabMenu的使用，源码如下：</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>6</p>
<p>7</p>
<p>8</p>
<p>9</p>
<p>10</p>
<p>11</p>
<p>12</p>
<p>13</p>
<p>14</p>
<p>15</p>
<p>16</p>
<p>17</p>
<p>18</p>
<p>19</p>
<p>20</p>
<p>21</p>
<p>22</p>
<p>23</p>
<p>24</p>
<p>25</p>
<p>26</p>
<p>27</p>
<p>28</p>
<p>29</p>
<p>30</p>
<p>31</p>
<p>32</p>
<p>33</p>
<p>34</p>
<p>35</p>
<p>36</p>
<p>37</p>
<p>38</p>
<p>39</p>
<p>40</p>
<p>41</p>
<p>42</p>
<p>43</p>
<p>44</p>
<p>45</p>
<p>46</p>
<p>47</p>
<p>48</p>
<p>49</p>
<p>50</p>
<p>51</p>
<p>52</p>
<p>53</p>
<p>54</p>
<p>55</p>
<p>56</p>
<p>57</p>
<p>58</p>
<p>59</p>
<p>60</p>
<p>61</p>
<p>62</p>
<p>63</p>
<p>64</p>
<p>65</p>
<p>66</p>
<p>67</p>
<p>68</p>
<p>69</p>
<p>70</p>
<p>71</p>
<p>72</p>
<p>73</p>
<p>74</p>
<p>75</p>
<p>76</p>
<p>77</p>
<p>78</p>
<p>79</p>
<p>80</p>
<p>81</p>
<p>82</p>
<p>83</p>
<p>84</p>
<p>85</p>
<p>86</p>
<p>87</p>
<p>88</p>
<p>89</p>
<p>90</p>
<p>91</p>
<p>92</p>
<p>93</p>
<p>94</p>
<p>95</p>
<p>96</p>
<p><code>package</code> <code>com.testTabMenu;</code></p>
<p><code>import</code> <code>android.app.Activity;</code></p>
<p><code>import</code> <code>android.graphics.Color;</code></p>
<p><code>import</code> <code>android.os.Bundle;</code></p>
<p><code>import</code> <code>android.view.Gravity;</code></p>
<p><code>import</code> <code>android.view.Menu;</code></p>
<p><code>import</code> <code>android.view.View;</code></p>
<p><code>import</code> <code>android.widget.AdapterView;</code></p>
<p><code>import</code> <code>android.widget.AdapterView.OnItemClickListener;</code></p>
<p><code>import</code> <code>android.widget.Toast;</code></p>
<p><code>public</code> <code>class</code> <code>testTabMenu</code> <code>extends</code> <code>Activity {</code></p>
<p><code>TabMenu.MenuBodyAdapter []bodyAdapter=`</code>new<code></code>TabMenu.MenuBodyAdapter[<code>3</code>];`</p>
<p><code>TabMenu.MenuTitleAdapter titleAdapter;</code></p>
<p><code>TabMenu tabMenu;</code></p>
<p><code>int</code> <code>selTitle=`</code>0<code></code>;`</p>
<p><code>@Override</code></p>
<p><code>public</code> <code>void</code> <code>onCreate(Bundle savedInstanceState) {</code></p>
<p><code>super`</code>.onCreate(savedInstanceState);`</p>
<p><code>setContentView(R.layout.main);</code></p>
<p><code>//设置分页栏的标题</code></p>
<p><code>titleAdapter =</code> <code>new</code> <code>TabMenu.MenuTitleAdapter(`</code>this<code>,` `new` `String[] {` `&quot;常用&quot;</code>,`</p>
<p><code>&quot;设置&quot;`</code>,<code></code>“工具”<code></code>},<code></code>16<code>,` `0xFF222222</code>,Color.LTGRAY,Color.WHITE);`</p>
<p><code>//定义每项分页栏的内容</code></p>
<p><code>bodyAdapter[`</code>0<code>]=</code>new<code></code>TabMenu.MenuBodyAdapter(<code>this</code>,<code>new` `String[] {` `&quot;常用1&quot;</code>,<code></code>“常用2”<code></code>, },`</p>
<p><code>new</code> <code>int`</code>[] { R.drawable.menu_test,`</p>
<p><code>R.drawable.menu_bookmark},`</code>13<code>,` `0xFFFFFFFF</code>);`</p>
<p><code>bodyAdapter[`</code>1<code>]=</code>new<code></code>TabMenu.MenuBodyAdapter(<code>this</code>,<code>new` `String[] {` `&quot;设置1&quot;</code>,<code></code>“设置2”<code></code>,`</p>
<p><code>&quot;设置3&quot;`</code>},<code></code>new<code></code>int<code></code>[] { R.drawable.menu_edit,`</p>
<p><code>R.drawable.menu_delete, R.drawable.menu_fullscreen},`</code>13<code>,` `0xFFFFFFFF</code>);`</p>
<p><code>bodyAdapter[`</code>2<code>]=</code>new<code></code>TabMenu.MenuBodyAdapter(<code>this</code>,<code>new` `String[] {` `&quot;工具1&quot;</code>,<code></code>“工具2”<code></code>,`</p>
<p><code>&quot;工具3&quot;`</code>,<code></code>“工具4”<code></code>},<code></code>new<code></code>int<code></code>[] { R.drawable.menu_copy,`</p>
<p><code>R.drawable.menu_cut, R.drawable.menu_normalmode,</code></p>
<p><code>R.drawable.menu_quit },`</code>13<code>,` `0xFFFFFFFF</code>);`</p>
<p><code>tabMenu=`</code>new<code></code>TabMenu(<code>this</code>,`</p>
<p><code>new</code> <code>TitleClickEvent(),</code></p>
<p><code>new</code> <code>BodyClickEvent(),</code></p>
<p><code>titleAdapter,</code></p>
<p><code>0x55123456`</code>,<code></code>//TabMenu的背景颜色`</p>
<p><code>R.style.PopupAnimation);`</code>//出现与消失的动画`</p>
<p><code>tabMenu.update();</code></p>
<p><code>tabMenu.SetTitleSelect(`</code>0<code></code>);`</p>
<p><code>tabMenu.SetBodyAdapter(bodyAdapter[`</code>0<code></code>]);`</p>
<p><code>}</code></p>
<p><code>class</code> <code>TitleClickEvent</code> <code>implements</code> <code>OnItemClickListener{</code></p>
<p><code>@Override</code></p>
<p><code>public</code> <code>void</code> <code>onItemClick(AdapterView&lt;?&gt; arg0, View arg1,</code> <code>int</code> <code>arg2,</code></p>
<p><code>long</code> <code>arg3) {</code></p>
<p><code>selTitle=arg2;</code></p>
<p><code>tabMenu.SetTitleSelect(arg2);</code></p>
<p><code>tabMenu.SetBodyAdapter(bodyAdapter[arg2]);</code></p>
<p><code>}</code></p>
<p><code>}</code></p>
<p><code>class</code> <code>BodyClickEvent</code> <code>implements</code> <code>OnItemClickListener{</code></p>
<p><code>@Override</code></p>
<p><code>public</code> <code>void</code> <code>onItemClick(AdapterView&lt;?&gt; arg0, View arg1,</code> <code>int</code> <code>arg2,</code></p>
<p><code>long</code> <code>arg3) {</code></p>
<p><code>tabMenu.SetBodySelect(arg2,Color.GRAY);</code></p>
<p><code>String str=`</code>“第”<code>+String.valueOf(selTitle)+</code>“栏/n/r”`</p>
<p><code>+`</code>“第”<code>+String.valueOf(arg2)+</code>“项”<code></code>;`</p>
<p><code>Toast.makeText(testTabMenu.`</code>this<code>, str,` `500</code>).show();`</p>
<p><code>}</code></p>
<p><code>}</code></p>
<p><code>@Override</code></p>
<p><code>/**</code></p>
<p><code>* 创建MENU</code></p>
<p><code>*/</code></p>
<p><code>public</code> <code>boolean</code> <code>onCreateOptionsMenu(Menu menu) {</code></p>
<p><code>menu.add(`</code>“menu”<code>);</code>// 必须创建一项`</p>
<p><code>return</code> <code>super`</code>.onCreateOptionsMenu(menu);`</p>
<p><code>}</code></p>
<p><code>@Override</code></p>
<p><code>/**</code></p>
<p><code>* 拦截MENU</code></p>
<p><code>*/</code></p>
<p><code>public</code> <code>boolean</code> <code>onMenuOpened(`</code>int<code></code>featureId, Menu menu) {`</p>
<p><code>if</code> <code>(tabMenu !=</code> <code>null`</code>) {`</p>
<p><code>if</code> <code>(tabMenu.isShowing())</code></p>
<p><code>tabMenu.dismiss();</code></p>
<p><code>else</code> <code>{</code></p>
<p><code>tabMenu.showAtLocation(findViewById(R.id.LinearLayout01),</code></p>
<p><code>Gravity.BOTTOM,</code> <code>0`</code>,<code></code>0<code></code>);`</p>
<p><code>}</code></p>
<p><code>}</code></p>
<p><code>return</code> <code>false`</code>;<code></code>// 返回为true 则显示系统menu`</p>
<p><code>}</code></p>
<p><code>}</code></p>
<p>这样，我们就基本实现了Android自定义Menu菜单的功能，谢谢阅读！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.daahe.com/2011/12/14/android-e4-b8-ad-e5-a6-82-e4-bd-95-e8-87-aa-e5-ae-9a-e4-b9-89menu-e8-8f-9c-e5-8d-95/" data-id="cjo7aj0q90010zm0f0l5ce957" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e9-ab-98-e7-89-88-e6-9c-acapk-e8-bf-90-e8-a1-8c-e5-9c-a8android-1-5-e4-b8-8a-e5-87-ba-e7-8e-b0-e7-9a-84-e9-97-ae-e9-a2-98-e5-8f-8a-e8-a7-a3-e5-86-b3-e6-96-b9-e6-b3-95" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/11/26/e9-ab-98-e7-89-88-e6-9c-acapk-e8-bf-90-e8-a1-8c-e5-9c-a8android-1-5-e4-b8-8a-e5-87-ba-e7-8e-b0-e7-9a-84-e9-97-ae-e9-a2-98-e5-8f-8a-e8-a7-a3-e5-86-b3-e6-96-b9-e6-b3-95/" class="article-date">
  <time datetime="2011-11-26T01:22:10.000Z" itemprop="datePublished">2011-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/11/26/e9-ab-98-e7-89-88-e6-9c-acapk-e8-bf-90-e8-a1-8c-e5-9c-a8android-1-5-e4-b8-8a-e5-87-ba-e7-8e-b0-e7-9a-84-e9-97-ae-e9-a2-98-e5-8f-8a-e8-a7-a3-e5-86-b3-e6-96-b9-e6-b3-95/">高版本apk运行在android 1.5上出现的问题及解决方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>当采用高版本SDK开发的<a href="http://blog.3gstdy.com/archives/740" target="_blank" rel="noopener">Android</a>应用，更换成1.5的SDK后会出现如下错误，说是一些资源文件找不到。但这个资源文件又是你程序中从来没有用到的。 java.io.FileNotFoundException: res/drawable/title_bar_shadow.9.png Caused by: android.content.res.Resources$NotFoundException: File res/drawable/title_bar_shadow.9.png from drawable resource ID #0x7f020001 Caused by: android.view.InflateException: Binary XML file line #8: Error inflating class java.lang.reflect.Constructor 经查发现，是sdk1.5版本和高版本的sdk创建的工程的目录结构不同，高版本的考虑到不同分辨率，所以有drawable-ldpi, drawable-mdpi, drawable-hdpi。而sdk1.5及以下没有种结构。只的drawable一个文件夹。用SDK1.5有时可以编辑通过高版本sdk创建的应用工程，但在1.5的机器上运行时不能从指定的drawable中找到相关资源所以不能运行。 知道问题所在后解决就很容易了，在工程中加上drawable资源文件夹，将<a href="http://blog.3gstdy.com/archives/740" target="_blank" rel="noopener">drawable-ldpi</a>, drawable-mdpi, drawable-hdpi中的相应资源加入到drawable中，再次编译就可以运行了。 参考：<a href="http://codinganswers.info/index.php/2011/07/exception-while-running-my-app-targetsdk-2-2-api-level-8-running-on-1-5-api-level-3/" target="_blank" rel="noopener">http://codinganswers.info/index.php/2011/07/exception-while-running-my-app-targetsdk-2-2-api-level-8-running-on-1-5-api-level-3/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.daahe.com/2011/11/26/e9-ab-98-e7-89-88-e6-9c-acapk-e8-bf-90-e8-a1-8c-e5-9c-a8android-1-5-e4-b8-8a-e5-87-ba-e7-8e-b0-e7-9a-84-e9-97-ae-e9-a2-98-e5-8f-8a-e8-a7-a3-e5-86-b3-e6-96-b9-e6-b3-95/" data-id="cjo7aj0ud006jzm0ftji43ccu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e9-87-87-e7-94-a8xmpp-e5-8d-8f-e8-ae-ae-e5-90-91android-e5-ae-a2-e6-88-b7-e7-ab-af-e6-8e-a8-e9-80-81-e6-b6-88-e6-81-af" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/10/11/e9-87-87-e7-94-a8xmpp-e5-8d-8f-e8-ae-ae-e5-90-91android-e5-ae-a2-e6-88-b7-e7-ab-af-e6-8e-a8-e9-80-81-e6-b6-88-e6-81-af/" class="article-date">
  <time datetime="2011-10-11T06:14:07.000Z" itemprop="datePublished">2011-10-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/10/11/e9-87-87-e7-94-a8xmpp-e5-8d-8f-e8-ae-ae-e5-90-91android-e5-ae-a2-e6-88-b7-e7-ab-af-e6-8e-a8-e9-80-81-e6-b6-88-e6-81-af/"> 采用XMPP协议向android客户端推送消息</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>XMPP(可扩展通讯和表示协议)是基于可扩展标记语言（XML）的协议，它用于即时消息（IM）以及在线探测。这个协议可能最终允许<a href="http://baike.baidu.com/view/1706.htm" target="_blank" rel="noopener">因特网</a>用户向因特网上的其他任何人发送即时消息。 <a href="http://sourceforge.net/projects/androidpn" target="_blank" rel="noopener">androidpn</a>是一个基于XMPP协议的java开源Android push notification实现。它包含了完整的客户端和服务器端。经过源代码研究我发现，该服务器端基本是在另外一个开源工程<a href="http://www.igniterealtime.org/projects/openfire/" target="_blank" rel="noopener">openfire</a>基础上修改实现的，不过比较郁闷的是androidpn的文档是由韩语写的，所以整个研究过程基本都是读源码。它的实现示意图如下： <img src="http://blog.daahe.com/wp-content/uploads/2012/12/c148b8d63f8056de3afff671bd463898.gif" alt=""> androidpn客户端需要用到一个基于java的开源XMPP协议包<a href="http://code.google.com/p/asmack/" target="_blank" rel="noopener">asmack</a>，这个包同样也是基于openfire下的另外一个开源项目<a href="http://www.igniterealtime.org/downloads/download-landing.jsp?file=smack/smack_3_2_0.tar.gz" target="_blank" rel="noopener">smack</a>，不过我们不需要自己编译，可以直接把androidpn客户端里面的asmack.jar拿来使用。客户端利用asmack中提供的XMPPConnection类与服务器建立持久连接，并通过该连接进行用户注册和登录认证，同样也是通过这条连接，接收服务器发送的通知。 androidpn服务器端也是java语言实现的，基于openfire开源工程，不过它的Web部分采用的是spring框架，这一点与openfire是不同的。Androidpn服务器包含两个部分，一个是侦听在5222端口上的XMPP服务，负责与客户端的XMPPConnection类进行通信，作用是用户注册和身份认证，并发送推送通知消息。另外一部分是Web服务器，采用一个轻量级的HTTP服务器，负责接收用户的Web请求。服务器架构如下： 最上层包含四个组成部分，分别是SessionManager，Auth Manager，PresenceManager以及Notification Manager。SessionManager负责管理客户端与服务器之间的会话，Auth Manager负责客户端用户认证管理，Presence Manager负责管理客户端用户的登录状态，NotificationManager负责实现服务器向客户端推送消息功能。 服务器端界面如下，分别对应了上述的几个功能模块： 发送以后，我们可以在手机端看到接收的消息： 这个解决方案的最大优势就是简单，我们不需要象C2DM那样依赖操作系统版本，也不会担心某一天Google服务器不可用。利用XMPP协议我们还可以进一步的对协议进行扩展，实现更为完善的功能。 采用这个方案，我们目前只能发送文字消息，不过对于推送来说一般足够了，因为我们不能指望通过推送得到所有的数据，一般情况下，利用推送只是告诉手机端服务器发生了某些改变，当客户端收到通知以后，应该主动到服务器获取最新的数据，这样才是推送服务的完整实现。 相关资料:</p>
<h3 id="谷歌Android如何从云端推送消息到手机"><a href="#谷歌Android如何从云端推送消息到手机" class="headerlink" title="谷歌Android如何从云端推送消息到手机"></a><a href="http://www.cz88.net/it/Google/9970/" target="_blank" rel="noopener">谷歌Android如何从云端推送消息到手机</a></h3><p><a href="http://tokudu.com/2010/how-to-implement-push-notifications-for-android/" title="Permanent Link to How to Implement Push Notifications for Android" target="_blank" rel="noopener">How to Implement Push Notifications for Android</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.daahe.com/2011/10/11/e9-87-87-e7-94-a8xmpp-e5-8d-8f-e8-ae-ae-e5-90-91android-e5-ae-a2-e6-88-b7-e7-ab-af-e6-8e-a8-e9-80-81-e6-b6-88-e6-81-af/" data-id="cjo7aj0u70062zm0falx23zjv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/7/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/9/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/j2ee/">j2ee</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/j2ee/Linux/">Linux</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/道听途说/">道听途说</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/DataCross/">DataCross</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flex/">Flex</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hibernate/">Hibernate</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/j2ee/">j2ee</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jvm/">jvm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/未分类/">未分类</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/生活/道听途说/">道听途说</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/私人日志/">私人日志</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/道听途说/">道听途说</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google-Map/">Google Map</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MapView/">MapView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI设计/">UI设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/datacross/">datacross</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ui/">ui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xp-启动不输入密码/">xp 启动不输入密码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/切换/">切换</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/原则/">原则</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/开发/">开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据转换/">数据转换</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/格式转换/">格式转换</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/横屏/">横屏</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/注销/">注销</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/监听/">监听</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/竖屏/">竖屏</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/返回/">返回</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Google-Map/" style="font-size: 10px;">Google Map</a> <a href="/tags/MapView/" style="font-size: 10px;">MapView</a> <a href="/tags/UI设计/" style="font-size: 10px;">UI设计</a> <a href="/tags/datacross/" style="font-size: 10px;">datacross</a> <a href="/tags/ui/" style="font-size: 10px;">ui</a> <a href="/tags/xp-启动不输入密码/" style="font-size: 10px;">xp 启动不输入密码</a> <a href="/tags/切换/" style="font-size: 10px;">切换</a> <a href="/tags/原则/" style="font-size: 10px;">原则</a> <a href="/tags/开发/" style="font-size: 15px;">开发</a> <a href="/tags/数据转换/" style="font-size: 10px;">数据转换</a> <a href="/tags/格式转换/" style="font-size: 10px;">格式转换</a> <a href="/tags/横屏/" style="font-size: 10px;">横屏</a> <a href="/tags/注销/" style="font-size: 10px;">注销</a> <a href="/tags/监听/" style="font-size: 10px;">监听</a> <a href="/tags/竖屏/" style="font-size: 10px;">竖屏</a> <a href="/tags/返回/" style="font-size: 10px;">返回</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">November 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">May 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">December 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">September 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/02/">February 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">January 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/12/">December 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">November 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">October 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/09/">September 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08/">August 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/07/">July 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/06/">June 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">May 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">April 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/03/">March 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/02/">February 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/01/">January 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/12/">December 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">November 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/09/">September 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/08/">August 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/12/">December 2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/10/">October 2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/09/">September 2007</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/11/07/java-JNDI/">java-JNDI</a>
          </li>
        
          <li>
            <a href="/2018/11/07/java-multi-thread/">java-multi-thread</a>
          </li>
        
          <li>
            <a href="/2018/11/07/java-io/">java-io</a>
          </li>
        
          <li>
            <a href="/2018/11/07/message-queue/">消息队列</a>
          </li>
        
          <li>
            <a href="/2018/11/07/cache/">缓存技术</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 daahe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<!-- script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script -->


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>